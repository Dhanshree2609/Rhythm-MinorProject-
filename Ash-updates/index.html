<!DOCTYPE html>
<html>
  <head>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header>
      <div class="left-part">
        <div class="home">
          <div class="word">
            <i class="fa-solid fa-house"></i>
            <p>
              <b><a href="index.html">Home</a></b>
            </p>
          </div>
          <div class="word">
            <i class="fa-solid fa-magnifying-glass"></i>
            <p><a href="Search.html">Search</a></p>
          </div>
        </div>

        <div class="album">
          <div class="list">
            <p class="words"><a href="login.html">Liked Songs</a></p>
            <p class="words"><a href="login.html">Artists</a></p>
            <p class="words"><a href="login.html">Language</a></p>
          </div>

          <div class="word">
            <i class="fa-solid fa-book"></i>
            <p style="margin-bottom: 6px">Recently Played</p>
          </div>

          <div class="album-list">
            <div id="songs"></div>
          </div>
        </div>
      </div>

      <!-- right-part -->
      <div class="song-side">
        <!-- div for top elements -->
        <div class="top">
          <div class="top1">
            <i class="fa-solid fa-arrow-left"></i>
            <i class="fa-solid fa-arrow-right"></i>
            <h2>Good Morning</h2>
          </div>

          <div class="top2">
            <ul>
              <li>
                <a href="login.html" style="text-decoration: none; color: white"
                  >Time Limit</a
                >
              </li>
              <li>
                <a href="login.html" style="text-decoration: none; color: white"
                  >Log In</a
                >
              </li>
              <li>Logo</li>
            </ul>
          </div>
        </div>

        <!-- mid part of the song-side -->
        <div class="mid">
          <p>
            Spotify is a digital music,podcast,and video service that gives you
            access to millions of songs and other cotent from creators all over
            the world. Spotify is available across a range of devices, including
            computers, phones, tablets, speakers, TVs and cars,and you can
            easily transition from one to another with Spotify connect.
          </p>
        </div>

        <!-- bottom part of the song side -->
        <div class="bottom">
          <h3>Made for User</h3>
          <div class="line">
            <div class="box">
              <div
                class="box-img"
                style="background-image: url('assets/images/kpop\ \(10\).png')"
              ></div>
              <h4>Discover Weekly</h4>
              <p>
                Your weekly mixtape of fresh music. Enjoy new music and .....
              </p>
            </div>
            <div class="box">
              <div
                class="box-img"
                style="background-image: url('assets/images/kpop\ \(11\).png')"
              ></div>
              <h4>Discover Weekly</h4>
              <p>
                Your weekly mixtape of fresh music. Enjoy new music and .....
              </p>
            </div>
            <div class="box">
              <div
                class="box-img"
                style="background-image: url('assets/images/kpop\ \(12\).png')"
              ></div>
              <h4>Discover Weekly</h4>
              <p>
                Your weekly mixtape of fresh music. Enjoy new music and .....
              </p>
            </div>
            <div class="box">
              <div
                class="box-img"
                style="background-image: url('assets/images/kpop\ \(13\).png')"
              ></div>
              <h4>Discover Weekly</h4>
              <p>
                Your weekly mixtape of fresh music. Enjoy new music and .....
              </p>
            </div>
            <div class="box">
              <div
                class="box-img"
                style="background-image: url('assets/images/kpop\ \(14\).png')"
              ></div>
              <h4>Discover Weekly</h4>
              <p>
                Your weekly mixtape of fresh music. Enjoy new music and .....
              </p>
            </div>
          </div>

          <h3>For fans of Taylor Swift</h3>
          <div class="line">
            <div class="box">
              <div
                class="box-img"
                style="background-image: url('assets/images/Taylorswift1\ \(1\).png')"
              ></div>
              <h4>Discover Weekly</h4>
              <p>
                Your weekly mixtape of fresh music. Enjoy new music and .....
              </p>
            </div>
            <div class="box">
              <div
                class="box-img"
                style="background-image: url('assets/images/Taylorswift1\ \(2\).png')"
              ></div>
              <h4>Discover Weekly</h4>
              <p>
                Your weekly mixtape of fresh music. Enjoy new music and .....
              </p>
            </div>
            <div class="box">
              <div
                class="box-img"
                style="background-image: url('assets/images/Taylorswift1\ \(3\).png')"
              ></div>
              <h4>Discover Weekly</h4>
              <p>
                Your weekly mixtape of fresh music. Enjoy new music and .....
              </p>
            </div>
            <div class="box">
              <div
                class="box-img"
                style="background-image: url('assets/images/Taylorswift1\ \(4\).png')"
              ></div>
              <h4>Discover Weekly</h4>
              <p>
                Your weekly mixtape of fresh music. Enjoy new music and .....
              </p>
            </div>
            <div class="box">
              <div
                class="box-img"
                style="background-image: url('assets/images/Taylorswift1\ \(5\).png')"
              ></div>
              <h4>Discover Weekly</h4>
              <p>
                Your weekly mixtape of fresh music. Enjoy new music and .....
              </p>
            </div>
          </div>

          <h3>Albums By User</h3>
          <div class="line">
            <div class="box">
              <div
                class="box-img"
                style="background-image: url('assets/images/kpop\ \(1\).png')"
              ></div>
              <h4>Discover Weekly</h4>
              <p>
                Your weekly mixtape of fresh music. Enjoy new music and .....
              </p>
            </div>
            <div class="box">
              <div
                class="box-img"
                style="background-image: url('assets/images/kpop\ \(3\).png')"
              ></div>
              <h4>Discover Weekly</h4>
              <p>
                Your weekly mixtape of fresh music. Enjoy new music and .....
              </p>
            </div>
            <div class="box">
              <div
                class="box-img"
                style="background-image: url('assets/images/kpop\ \(2\).png')"
              ></div>
              <h4>Discover Weekly</h4>
              <p>
                Your weekly mixtape of fresh music. Enjoy new music and .....
              </p>
            </div>
            <div class="box">
              <div
                class="box-img"
                style="background-image: url('assets/images/kpop\ \(4\).png')"
              ></div>
              <h4>Discover Weekly</h4>
              <p>
                Your weekly mixtape of fresh music. Enjoy new music and .....
              </p>
            </div>
            <div class="box">
              <div
                class="box-img"
                style="background-image: url('assets/images/kpop\ \(5\).png')"
              ></div>
              <h4>Discover Weekly</h4>
              <p>
                Your weekly mixtape of fresh music. Enjoy new music and .....
              </p>
            </div>
          </div>

          <h3>Albums For User</h3>
          <div class="line">
            <div class="box">
              <div
                class="box-img"
                style="background-image: url('assets/images/kpop\ \(6\).png')"
              ></div>
              <h4>Discover Weekly</h4>
              <p>
                Your weekly mixtape of fresh music. Enjoy new music and .....
              </p>
            </div>
            <div class="box">
              <div
                class="box-img"
                style="background-image: url('assets/images/kpop\ \(7\).png')"
              ></div>
              <h4>Discover Weekly</h4>
              <p>
                Your weekly mixtape of fresh music. Enjoy new music and .....
              </p>
            </div>
            <div class="box">
              <div
                class="box-img"
                style="background-image: url('assets/images/kpop\ \(8\).png')"
              ></div>
              <h4>Discover Weekly</h4>
              <p>
                Your weekly mixtape of fresh music. Enjoy new music and .....
              </p>
            </div>
            <div class="box">
              <div
                class="box-img"
                style="background-image: url('assets/images/kpop\ \(9\).png')"
              ></div>
              <h4>Discover Weekly</h4>
              <p>
                Your weekly mixtape of fresh music. Enjoy new music and .....
              </p>
            </div>
            <div class="box">
              <div
                class="box-img"
                style="background-image: url('assets/images/kpop\ \(1\).png')"
              ></div>
              <h4>Discover Weekly</h4>
              <p>
                Your weekly mixtape of fresh music. Enjoy new music and .....
              </p>
            </div>
          </div>
        </div>

        <footer>
          <div class="part1">
            <ul style="list-style-type: none">
              <li style="font-weight: 800">Company</li>
              <li>About</li>
              <li>Jobs</li>
              <li>Fot the Record</li>
            </ul>
            <ul style="list-style-type: none">
              <li style="font-weight: 800">Communities</li>
              <li>For Artists</li>
              <li>Developers</li>
              <li>Advertising</li>
              <li>Investors</li>
              <li>Vendors</li>
            </ul>
            <ul style="list-style-type: none">
              <li style="font-weight: 800">Useful links</li>
              <li>Support</li>
              <li>Free Mobile App</li>
            </ul>
            <div class="icons">
              <i class="fa-brands fa-instagram"></i>
              <i class="fa-brands fa-x-twitter"></i>
              <i class="fa-brands fa-facebook"></i>
            </div>
          </div>
          <br />
          <br />
          <hr style="border: 1px solid rgb(39, 38, 38)" />
          <div class="part2">
            <ul style="list-style-type: none">
              <li>Legal</li>
              <li>Privacy Center</li>
              <li>Privacy Policy</li>
              <li>Cookies</li>
              <li>About Ads</li>
              <li>Accessibility</li>
            </ul>
            <p>&#169; Rhythm AB</p>
          </div>
        </footer>
      </div>

      <!-- master-play -->
      <div class="masterplay">
        <div class="wave">
          <div class="wave1"></div>
          <div class="wave1"></div>
          <div class="wave1"></div>
        </div>
        <img src="" alt="" id="postermasterplay" />
        <h5 id="title">
          <div class="subtitle"></div>
        </h5>
        <div class="icon">
          <i class="bi shuffle bi-music-note-beamed">next</i>
          <i class="bi bi-skip-start-fill"></i>
          <i class="bi bi-play-fill" id="play"></i>
          <i class="bi bi-skip-end-fill"></i>
          <i class="bi bi-cloud-arrow-down-fill" id="download"></i>
        </div>

        <span id="currentstart">0:00</span>
        <div class="bar">
          <input type="range" id="seek" min="0" max="100" />
          <div class="bar2" id="bar2"></div>
          <div class="dot"></div>
        </div>
        <span id="currentend">0:30</span>
        <div class="vol">
          <i class="bi bi-volume-down-fill"></i>
          <input type="range" min="0" max="100" id="vol" />
          <div class="vol_bar"></div>
          <div class="dot" id="vol_dot"></div>
        </div>
      </div>
    </header>

    <script>
      const songsElement = document.getElementById("songs");
      const player = document.getElementById("play");
      const title = document.getElementById("title");
      const subtitle = document.querySelector(".subtitle");
      const postermasterplay = document.getElementById("postermasterplay");
      const audio = new Audio();
      const volumeControl = document.getElementById("vol");
      const seekBar = document.getElementById("seek");
      const nextButton = document.querySelector(".bi-skip-end-fill");
      const prevButton = document.querySelector(".bi-skip-start-fill");
      const shuffleButton = document.querySelector(".bi-music-note-beamed");

      fetch("/allsongs")
        .then((response) => response.json())
        .then((songs) => {
          let currentSongIndex = 0;

          function playSong(index) {
            const { singer, song, thumbnail, mp3 } = songs[index];
            audio.src = mp3;
            title.textContent = song;
            subtitle.textContent = singer;
            postermasterplay.src = thumbnail;
            audio.play();
          }

          songs.forEach(({ singer, song, thumbnail, mp3 }, index) => {
            const card = document.createElement("div");
            card.style.margin = "10px";
            card.style.padding = "10px";
            card.style.width = "300px";
            card.style.height = "50px";

            const songElement = document.createElement("p");
            songElement.textContent = song;
            card.appendChild(songElement);

            const songThumbnail = document.createElement("img");
            songThumbnail.style.width = "50px";
            songThumbnail.src = thumbnail;
            card.appendChild(songThumbnail);

            card.addEventListener("click", () => {
              audio.src = mp3;
              title.textContent = song;
              subtitle.textContent = singer;
              postermasterplay.src = thumbnail;
              postermasterplay.style.width = "100px";
              audio.play();
            });

            card.addEventListener("click", () => {
              currentSongIndex = index;
              playSong(currentSongIndex);
            });

            songsElement.appendChild(card);
          });

          player.addEventListener("click", () => {
            if (audio.paused) {
              audio.play();
              player.classList.remove("bi-play-fill");
              player.classList.add("bi-pause-fill");
            } else {
              audio.pause();
              player.classList.remove("bi-pause-fill");
              player.classList.add("bi-play-fill");
            }
          });

          nextButton.addEventListener("click", () => {
            currentSongIndex = (currentSongIndex + 1) % songs.length;
            playSong(currentSongIndex);
          });

          prevButton.addEventListener("click", () => {
            currentSongIndex =
              (currentSongIndex - 1 + songs.length) % songs.length;
            playSong(currentSongIndex);
          });

          shuffleButton.addEventListener("click", () => {
            currentSongIndex = Math.floor(Math.random() * songs.length);
            playSong(currentSongIndex);
          });

          volumeControl.addEventListener("change", (event) => {
            audio.volume = event.target.value / 100;
          });

          audio.addEventListener("timeupdate", () => {
            seekBar.value = (audio.currentTime / audio.duration) * 100;
          });

          seekBar.addEventListener("change", (event) => {
            audio.currentTime = (event.target.value / 100) * audio.duration;
          });
        });
    </script>
  </body>
</html>
